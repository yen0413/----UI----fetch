<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>圖片預覽</title>
</head>

<body>
    <input type="file" name="file" id="file">
    <img id="img" style="width:330px;border-style:none">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</body>
<script>
    const myFile = document.querySelector('#file')

    myFile.addEventListener('change', function (e) {
        const file = e.target.files[0]
        const reader = new FileReader()
        // 轉換成 DataURL
        reader.readAsDataURL(file)

        reader.onload = function () {
            // 將圖片 src 替換為 DataURL
            img.src = reader.result
        }
    })

    // myFile.addEventListener('change', function (e) {
    //     const file = e.target.files[0]
    //     const reader = new FileReader()
    //     // 轉換成 DataURL
    //     reader.readAsDataURL(file)

    //     reader.onload = function () {
    //         // 創造一個 a 標籤
    //         const downloadLink = document.createElement('a')
    //         // 將 a 標籤的連結改為 DataURL
    //         downloadLink.href = reader.result
    //         // 將下載的檔名設定為 file
    //         downloadLink.download = 'file'
    //         // 點擊標籤
    //         downloadLink.click()
    //     }
    // })
</script>

</html>